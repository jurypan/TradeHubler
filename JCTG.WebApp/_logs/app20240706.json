{"@t":"2024-07-06T13:27:31.9271624Z","@mt":"True MSAL 4.61.3.0 MSAL.NetCore .NET 8.0.5 Microsoft Windows 10.0.22631 [2024-07-06 13:27:31Z - 409e140f-552c-4b2c-b67f-6d8c2047d3b3] Only in-memory caching is used. The cache is not persisted and will be lost if the machine is restarted. It also does not scale for a web app or web API, where the number of users can grow large. In production, web apps and web APIs should use distributed caching like Redis. See https://aka.ms/msal-net-cca-token-cache-serialization","@l":"Warning","@tr":"3325c163b3783e90d6d7486ae3fd7188","@sp":"1c879df5f7f0911d","SourceContext":"Microsoft.Identity.Web.TokenAcquisition","RequestId":"0HN4TNTEOLP8F:00000001","RequestPath":"/signin-oidc","ConnectionId":"0HN4TNTEOLP8F","ApplicationName":"Trade Hubbing","Environment":"Production"}
{"@t":"2024-07-06T13:29:21.6037843Z","@mt":"Unhandled exception rendering component: {Message}","@l":"Warning","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Client_Account\". The conflict occurred in database \"justcalltheguy\", table \"dbo.Account\", column 'ID'.\r\nThe statement has been terminated.\r\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)\r\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\nClientConnectionId:8b4651c8-a88a-446e-b7a9-a0d8838eeafe\r\nError Number:547,State:0,Class:16\r\nClientConnectionId before routing:e8f40d7b-cc6d-4112-a0a1-d926a05388de\r\nRouting Destination:daf8e1e4c395.tr49958.westeurope1-a.worker.database.windows.net,11036\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at JCTG.WebApp.Backend.Repository.ClientRepository.AddAsync(Client client) in C:\\Users\\joeri.pansaerts\\source\\repos\\JustCallTheGuy\\JCTG.WebApp\\Backend\\Repository\\ClientRepository.cs:line 147\r\n   at JCTG.WebApp.Frontend.Components.Modal.ClientAddModal.SubmitAsync() in C:\\Users\\joeri.pansaerts\\source\\repos\\JustCallTheGuy\\JCTG.WebApp\\Frontend\\Components\\Modal\\ClientAddModal.razor:line 123\r\n   at Microsoft.AspNetCore.Components.ComponentBase.CallStateHasChangedOnAsyncCompletion(Task task)\r\n   at Microsoft.AspNetCore.Components.Forms.EditForm.HandleSubmitAsync()\r\n   at Microsoft.AspNetCore.Components.ComponentBase.CallStateHasChangedOnAsyncCompletion(Task task)\r\n   at Microsoft.AspNetCore.Components.RenderTree.Renderer.GetErrorHandledTask(Task taskToHandle, ComponentState owningComponentState)","@tr":"66268d5fd917877cc5bab1b3b0168d56","@sp":"fb914ce649ddc09a","Message":"An error occurred while saving the entity changes. See the inner exception for details.","EventId":{"Id":100,"Name":"ExceptionRenderingComponent"},"SourceContext":"Microsoft.AspNetCore.Components.Server.Circuits.RemoteRenderer","TransportConnectionId":"1Mfu9NsN_hZHlkKgh-98rA","RequestId":"0HN4TNTEOLP8F:00000053","RequestPath":"/_blazor","ConnectionId":"0HN4TNTEOLP8F","ApplicationName":"Trade Hubbing","Environment":"Production"}
{"@t":"2024-07-06T13:29:21.6445143Z","@mt":"Unhandled exception in circuit '{CircuitId}'.","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Client_Account\". The conflict occurred in database \"justcalltheguy\", table \"dbo.Account\", column 'ID'.\r\nThe statement has been terminated.\r\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)\r\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\nClientConnectionId:8b4651c8-a88a-446e-b7a9-a0d8838eeafe\r\nError Number:547,State:0,Class:16\r\nClientConnectionId before routing:e8f40d7b-cc6d-4112-a0a1-d926a05388de\r\nRouting Destination:daf8e1e4c395.tr49958.westeurope1-a.worker.database.windows.net,11036\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at JCTG.WebApp.Backend.Repository.ClientRepository.AddAsync(Client client) in C:\\Users\\joeri.pansaerts\\source\\repos\\JustCallTheGuy\\JCTG.WebApp\\Backend\\Repository\\ClientRepository.cs:line 147\r\n   at JCTG.WebApp.Frontend.Components.Modal.ClientAddModal.SubmitAsync() in C:\\Users\\joeri.pansaerts\\source\\repos\\JustCallTheGuy\\JCTG.WebApp\\Frontend\\Components\\Modal\\ClientAddModal.razor:line 123\r\n   at Microsoft.AspNetCore.Components.ComponentBase.CallStateHasChangedOnAsyncCompletion(Task task)\r\n   at Microsoft.AspNetCore.Components.Forms.EditForm.HandleSubmitAsync()\r\n   at Microsoft.AspNetCore.Components.ComponentBase.CallStateHasChangedOnAsyncCompletion(Task task)\r\n   at Microsoft.AspNetCore.Components.RenderTree.Renderer.GetErrorHandledTask(Task taskToHandle, ComponentState owningComponentState)","@tr":"66268d5fd917877cc5bab1b3b0168d56","@sp":"fb914ce649ddc09a","CircuitId":"LbdSz5oVhLZJ1UzSJcoP5Vb5wqgnNLIzDGN5oERZDio","EventId":{"Id":111,"Name":"CircuitUnhandledException"},"SourceContext":"Microsoft.AspNetCore.Components.Server.Circuits.CircuitHost","TransportConnectionId":"1Mfu9NsN_hZHlkKgh-98rA","RequestId":"0HN4TNTEOLP8F:00000053","RequestPath":"/_blazor","ConnectionId":"0HN4TNTEOLP8F","ApplicationName":"Trade Hubbing","Environment":"Production"}
{"@t":"2024-07-06T13:36:58.5777148Z","@mt":"True MSAL 4.61.3.0 MSAL.NetCore .NET 8.0.5 Microsoft Windows 10.0.22631 [2024-07-06 13:36:58Z - 8c132aa4-092b-42a1-a7e6-ad7ae968676d] Only in-memory caching is used. The cache is not persisted and will be lost if the machine is restarted. It also does not scale for a web app or web API, where the number of users can grow large. In production, web apps and web APIs should use distributed caching like Redis. See https://aka.ms/msal-net-cca-token-cache-serialization","@l":"Warning","@tr":"490d151541904ce1827ef5ec65f90234","@sp":"702b6404e7072f68","SourceContext":"Microsoft.Identity.Web.TokenAcquisition","RequestId":"0HN4TO2OFGJNQ:00000001","RequestPath":"/signin-oidc","ConnectionId":"0HN4TO2OFGJNQ","ApplicationName":"Trade Hubbing","Environment":"Production"}
{"@t":"2024-07-06T13:37:02.7780735Z","@mt":"Exception: The current thread is not associated with the Dispatcher. Use InvokeAsync() to switch execution to the Dispatcher when triggering rendering or component state.\nInner exception message: \n","@l":"Error","@tr":"349149cc768224c5e59671e1dd56ba0b","@sp":"a9757e665eeb43cf","SourceContext":"JCTG.WebApp.Backend.Middleware.ExceptionHandlingMiddleware","ActionId":"4b88af04-1de8-49d4-b807-dff5e2f730f5","ActionName":"/_Host","RequestId":"0HN4TO2OFGJNQ:00000003","RequestPath":"/","ConnectionId":"0HN4TO2OFGJNQ","ApplicationName":"Trade Hubbing","Environment":"Production"}
{"@t":"2024-07-06T13:37:02.7901458Z","@mt":"Unable to configure Browser Link script injection on the response. ","@l":"Warning","@tr":"349149cc768224c5e59671e1dd56ba0b","@sp":"a9757e665eeb43cf","EventId":{"Id":3,"Name":"FailedToConfigureForBrowserLink"},"SourceContext":"Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware","RequestId":"0HN4TO2OFGJNQ:00000003","RequestPath":"/","ConnectionId":"0HN4TO2OFGJNQ","ApplicationName":"Trade Hubbing","Environment":"Production"}
{"@t":"2024-07-06T13:37:02.7915547Z","@mt":"Unable to configure browser refresh script injection on the response. Consider manually adding '<script src=\"/_framework/aspnetcore-browser-refresh.js\"></script>' to the body of the page.","@l":"Warning","@tr":"349149cc768224c5e59671e1dd56ba0b","@sp":"a9757e665eeb43cf","EventId":{"Id":3,"Name":"FailedToConfiguredForRefreshes"},"SourceContext":"Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware","RequestId":"0HN4TO2OFGJNQ:00000003","RequestPath":"/","ConnectionId":"0HN4TO2OFGJNQ","ApplicationName":"Trade Hubbing","Environment":"Production"}
{"@t":"2024-07-06T13:38:11.7751864Z","@mt":"True MSAL 4.61.3.0 MSAL.NetCore .NET 8.0.5 Microsoft Windows 10.0.22631 [2024-07-06 13:38:11Z - c04fb127-882a-4c8d-bd23-bdb1f34572a6] Only in-memory caching is used. The cache is not persisted and will be lost if the machine is restarted. It also does not scale for a web app or web API, where the number of users can grow large. In production, web apps and web APIs should use distributed caching like Redis. See https://aka.ms/msal-net-cca-token-cache-serialization","@l":"Warning","@tr":"d8defc801fa25f353b699001125b7737","@sp":"c4061a67b2e3c363","SourceContext":"Microsoft.Identity.Web.TokenAcquisition","RequestId":"0HN4TO3EHHBN8:00000001","RequestPath":"/signin-oidc","ConnectionId":"0HN4TO3EHHBN8","ApplicationName":"Trade Hubbing","Environment":"Production"}
{"@t":"2024-07-06T13:38:58.1041713Z","@mt":"True MSAL 4.61.3.0 MSAL.NetCore .NET 8.0.5 Microsoft Windows 10.0.22631 [2024-07-06 13:38:58Z - bb7ec3d5-8ab0-43a0-af25-44a4183fc4d8] Only in-memory caching is used. The cache is not persisted and will be lost if the machine is restarted. It also does not scale for a web app or web API, where the number of users can grow large. In production, web apps and web APIs should use distributed caching like Redis. See https://aka.ms/msal-net-cca-token-cache-serialization","@l":"Warning","@tr":"62c2ee5a58d7e18d6dc2b20319be4969","@sp":"709524669349339f","SourceContext":"Microsoft.Identity.Web.TokenAcquisition","RequestId":"0HN4TO3RQ5DVE:00000001","RequestPath":"/signin-oidc","ConnectionId":"0HN4TO3RQ5DVE","ApplicationName":"Trade Hubbing","Environment":"Production"}
{"@t":"2024-07-06T13:39:45.5805523Z","@mt":"Unhandled exception rendering component: {Message}","@l":"Warning","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ID', table 'justcalltheguy.dbo.Client'; column does not allow nulls. INSERT fails.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:31c2a21e-8ee2-4c8a-8736-4aa446ac1da1\r\nError Number:515,State:2,Class:16\r\nClientConnectionId before routing:64216a14-3483-4fa2-937f-e0f39a76b824\r\nRouting Destination:daf8e1e4c395.tr49958.westeurope1-a.worker.database.windows.net,11036\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at JCTG.WebApp.Backend.Repository.ClientRepository.AddAsync(Client client) in C:\\Users\\joeri.pansaerts\\source\\repos\\JustCallTheGuy\\JCTG.WebApp\\Backend\\Repository\\ClientRepository.cs:line 147\r\n   at JCTG.WebApp.Frontend.Components.Modal.ClientAddModal.SubmitAsync() in C:\\Users\\joeri.pansaerts\\source\\repos\\JustCallTheGuy\\JCTG.WebApp\\Frontend\\Components\\Modal\\ClientAddModal.razor:line 123\r\n   at Microsoft.AspNetCore.Components.ComponentBase.CallStateHasChangedOnAsyncCompletion(Task task)\r\n   at Microsoft.AspNetCore.Components.Forms.EditForm.HandleSubmitAsync()\r\n   at Microsoft.AspNetCore.Components.ComponentBase.CallStateHasChangedOnAsyncCompletion(Task task)\r\n   at Microsoft.AspNetCore.Components.RenderTree.Renderer.GetErrorHandledTask(Task taskToHandle, ComponentState owningComponentState)","@tr":"f1c8b57642055476c0dd74e36557f2a4","@sp":"38eb3798a71b2792","Message":"An error occurred while saving the entity changes. See the inner exception for details.","EventId":{"Id":100,"Name":"ExceptionRenderingComponent"},"SourceContext":"Microsoft.AspNetCore.Components.Server.Circuits.RemoteRenderer","TransportConnectionId":"SWs-BJu7OUD5gI0G6uhuHQ","RequestId":"0HN4TO3RQ5DVE:0000000F","RequestPath":"/_blazor","ConnectionId":"0HN4TO3RQ5DVE","ApplicationName":"Trade Hubbing","Environment":"Production"}
{"@t":"2024-07-06T13:39:45.6228484Z","@mt":"Unhandled exception in circuit '{CircuitId}'.","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ID', table 'justcalltheguy.dbo.Client'; column does not allow nulls. INSERT fails.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:31c2a21e-8ee2-4c8a-8736-4aa446ac1da1\r\nError Number:515,State:2,Class:16\r\nClientConnectionId before routing:64216a14-3483-4fa2-937f-e0f39a76b824\r\nRouting Destination:daf8e1e4c395.tr49958.westeurope1-a.worker.database.windows.net,11036\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at JCTG.WebApp.Backend.Repository.ClientRepository.AddAsync(Client client) in C:\\Users\\joeri.pansaerts\\source\\repos\\JustCallTheGuy\\JCTG.WebApp\\Backend\\Repository\\ClientRepository.cs:line 147\r\n   at JCTG.WebApp.Frontend.Components.Modal.ClientAddModal.SubmitAsync() in C:\\Users\\joeri.pansaerts\\source\\repos\\JustCallTheGuy\\JCTG.WebApp\\Frontend\\Components\\Modal\\ClientAddModal.razor:line 123\r\n   at Microsoft.AspNetCore.Components.ComponentBase.CallStateHasChangedOnAsyncCompletion(Task task)\r\n   at Microsoft.AspNetCore.Components.Forms.EditForm.HandleSubmitAsync()\r\n   at Microsoft.AspNetCore.Components.ComponentBase.CallStateHasChangedOnAsyncCompletion(Task task)\r\n   at Microsoft.AspNetCore.Components.RenderTree.Renderer.GetErrorHandledTask(Task taskToHandle, ComponentState owningComponentState)","@tr":"f1c8b57642055476c0dd74e36557f2a4","@sp":"38eb3798a71b2792","CircuitId":"qUmLjPaTu5-TLjwU_V9gbLjsxtmA6kq4PpVclxTDFtI","EventId":{"Id":111,"Name":"CircuitUnhandledException"},"SourceContext":"Microsoft.AspNetCore.Components.Server.Circuits.CircuitHost","TransportConnectionId":"SWs-BJu7OUD5gI0G6uhuHQ","RequestId":"0HN4TO3RQ5DVE:0000000F","RequestPath":"/_blazor","ConnectionId":"0HN4TO3RQ5DVE","ApplicationName":"Trade Hubbing","Environment":"Production"}
{"@t":"2024-07-06T13:40:23.4278862Z","@mt":"Unhandled exception rendering component: {Message}","@l":"Warning","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ID', table 'justcalltheguy.dbo.Client'; column does not allow nulls. INSERT fails.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:84bf0fb8-bd40-4da4-adc6-683edbbef394\r\nError Number:515,State:2,Class:16\r\nClientConnectionId before routing:a37aca5a-f1db-4ced-bbb4-62d5f8c170a9\r\nRouting Destination:daf8e1e4c395.tr49958.westeurope1-a.worker.database.windows.net,11036\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at JCTG.WebApp.Backend.Repository.ClientRepository.AddAsync(Client client) in C:\\Users\\joeri.pansaerts\\source\\repos\\JustCallTheGuy\\JCTG.WebApp\\Backend\\Repository\\ClientRepository.cs:line 147\r\n   at JCTG.WebApp.Frontend.Components.Modal.ClientAddModal.SubmitAsync() in C:\\Users\\joeri.pansaerts\\source\\repos\\JustCallTheGuy\\JCTG.WebApp\\Frontend\\Components\\Modal\\ClientAddModal.razor:line 123\r\n   at Microsoft.AspNetCore.Components.ComponentBase.CallStateHasChangedOnAsyncCompletion(Task task)\r\n   at Microsoft.AspNetCore.Components.Forms.EditForm.HandleSubmitAsync()\r\n   at Microsoft.AspNetCore.Components.ComponentBase.CallStateHasChangedOnAsyncCompletion(Task task)\r\n   at Microsoft.AspNetCore.Components.RenderTree.Renderer.GetErrorHandledTask(Task taskToHandle, ComponentState owningComponentState)","@tr":"e7e7dc07462ffbdb6147bf4d2bf59721","@sp":"39e2facc9049db9b","Message":"An error occurred while saving the entity changes. See the inner exception for details.","EventId":{"Id":100,"Name":"ExceptionRenderingComponent"},"SourceContext":"Microsoft.AspNetCore.Components.Server.Circuits.RemoteRenderer","TransportConnectionId":"64-iyaRkWHmsucx2SsSZog","RequestId":"0HN4TO3RQ5DVE:0000002B","RequestPath":"/_blazor","ConnectionId":"0HN4TO3RQ5DVE","ApplicationName":"Trade Hubbing","Environment":"Production"}
{"@t":"2024-07-06T13:40:23.4304755Z","@mt":"Unhandled exception in circuit '{CircuitId}'.","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ID', table 'justcalltheguy.dbo.Client'; column does not allow nulls. INSERT fails.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:84bf0fb8-bd40-4da4-adc6-683edbbef394\r\nError Number:515,State:2,Class:16\r\nClientConnectionId before routing:a37aca5a-f1db-4ced-bbb4-62d5f8c170a9\r\nRouting Destination:daf8e1e4c395.tr49958.westeurope1-a.worker.database.windows.net,11036\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at JCTG.WebApp.Backend.Repository.ClientRepository.AddAsync(Client client) in C:\\Users\\joeri.pansaerts\\source\\repos\\JustCallTheGuy\\JCTG.WebApp\\Backend\\Repository\\ClientRepository.cs:line 147\r\n   at JCTG.WebApp.Frontend.Components.Modal.ClientAddModal.SubmitAsync() in C:\\Users\\joeri.pansaerts\\source\\repos\\JustCallTheGuy\\JCTG.WebApp\\Frontend\\Components\\Modal\\ClientAddModal.razor:line 123\r\n   at Microsoft.AspNetCore.Components.ComponentBase.CallStateHasChangedOnAsyncCompletion(Task task)\r\n   at Microsoft.AspNetCore.Components.Forms.EditForm.HandleSubmitAsync()\r\n   at Microsoft.AspNetCore.Components.ComponentBase.CallStateHasChangedOnAsyncCompletion(Task task)\r\n   at Microsoft.AspNetCore.Components.RenderTree.Renderer.GetErrorHandledTask(Task taskToHandle, ComponentState owningComponentState)","@tr":"e7e7dc07462ffbdb6147bf4d2bf59721","@sp":"39e2facc9049db9b","CircuitId":"VDfRnjWINqS45Z85es3Da6opi1xIkz7hp8dS1lOE7G4","EventId":{"Id":111,"Name":"CircuitUnhandledException"},"SourceContext":"Microsoft.AspNetCore.Components.Server.Circuits.CircuitHost","TransportConnectionId":"64-iyaRkWHmsucx2SsSZog","RequestId":"0HN4TO3RQ5DVE:0000002B","RequestPath":"/_blazor","ConnectionId":"0HN4TO3RQ5DVE","ApplicationName":"Trade Hubbing","Environment":"Production"}
{"@t":"2024-07-06T13:42:03.6802962Z","@mt":"True MSAL 4.61.3.0 MSAL.NetCore .NET 8.0.5 Microsoft Windows 10.0.22631 [2024-07-06 13:42:03Z - 73b0df59-4cb1-4472-9daa-b18ee70ee54c] Only in-memory caching is used. The cache is not persisted and will be lost if the machine is restarted. It also does not scale for a web app or web API, where the number of users can grow large. In production, web apps and web APIs should use distributed caching like Redis. See https://aka.ms/msal-net-cca-token-cache-serialization","@l":"Warning","@tr":"d0d6d6d3fad120948aa4d89cceb9ea8d","@sp":"f8a41a90fe904622","SourceContext":"Microsoft.Identity.Web.TokenAcquisition","RequestId":"0HN4TO5JJTEP7:00000001","RequestPath":"/signin-oidc","ConnectionId":"0HN4TO5JJTEP7","ApplicationName":"Trade Hubbing","Environment":"Production"}
